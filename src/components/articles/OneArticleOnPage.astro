---
import type {Root} from 'mdast'
import {remark} from 'remark'
import {visit} from 'unist-util-visit'

interface Props {
  title: string;
  content: any;
}

const { title, content: Content } = Astro.props;

const processContent = (content: Root) => {
  visit(content, 'callout', (node) => {
    node.type = 'blockquote';
  });
};
---

<article class="prose mx-auto">
  <h1>{title}</h1>
  <Content />
</article>

<style>
  .prose {
    color: var(--clr-lossless-primary-light);
    max-width: 65ch;
    padding: 1rem;
  }

  .prose h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .prose :global(h2) {
    font-size: 1.5rem;
    margin-top: 2rem;
    margin-bottom: 1rem;
    color: var(--clr-lossless-accent--brightest);
  }

  .prose :global(h3) {
    font-size: 1.25rem;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    color: var(--clr-lossless-accent--brightest);
  }

  .prose :global(p) {
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  .prose :global(a) {
    color: var(--clr-lossless-accent--brightest);
    text-decoration: none;
  }

  .prose :global(a:hover) {
    text-decoration: underline;
  }

  .prose :global(ul), .prose :global(ol) {
    margin-left: 1.5rem;
    margin-bottom: 1rem;
  }

  .prose :global(li) {
    margin-bottom: 0.5rem;
  }

  /* Callout styles */
  .prose :global(.callout) {
    border: 1px solid var(--clr-lossless-primary-light);
    border-radius: 0.5rem;
    padding: 1rem;
    margin: 1rem 0;
    background-color: var(--clr-lossless-primary-darkest);
  }

  .prose :global(.callout-header) {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: var(--clr-lossless-accent--brightest);
  }

  .prose :global(.callout-content) {
    margin-top: 0.5rem;
    line-height: 1.6;
  }

  /* Type-specific styles */
  .prose :global(.callout-note) {
    border-color: var(--clr-lossless-accent--brightest);
    background-color: var(--clr-lossless-primary-darker);
  }

  .prose :global(.callout-warning) {
    border-color: var(--clr-lossless-warning);
    background-color: var(--clr-lossless-warning-bg);
  }

  .prose :global(.callout-important) {
    border-color: var(--clr-lossless-important);
    background-color: var(--clr-lossless-important-bg);
  }
</style>
