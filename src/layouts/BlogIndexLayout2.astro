---
import { type CollectionEntry } from "astro:content";
import { getAllPrompts } from "@utils/blogUtils";

import PostCard from "@components/PostCard/PostCardDetailed.astro";
import PostCardLarge from "@components/PostCard/PostCardLargeDetailed.astro";

interface Props {
	class?: string;
}

const { class: className } = Astro.props as Props;
const posts = await getAllPrompts();

---

<div class:list={["grid gap-4 gap-y-12 md:grid-cols-2 lg:grid-cols-3", className]}>
	<!-- map posts and make the first one span 3 columns, but the rest only span 1 column -->
	{
		posts.map((post) => {
			if (post === posts[0]) {
				return (
					<PostCardLarge post={post} showDescription={true} class="md:col-span-2 lg:col-span-3" />
				);
			} else {
				return <PostCard post={post} showDescription={false} />;
			}
		})
	}
</div>
